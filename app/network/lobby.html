<div class = "lobby [[showMenu]] [[showInvites]]" data-click-barrier>

	<div class = "main column">
		<div class = "left-menu">
			<div>[[username]]</div>
			<button cv-on = "click:logOut">Log Out</button>
		</div>

		<div class = "topbar row">
			<div class = "row">
				<div class = "burger-button" cv-on = "click:toggleMenu">
					<div class = "stripe"></div>
					<div class = "stripe"></div>
					<div class = "stripe"></div>
				</div>
				<div class = "title">
					#sonic-3000-test-lobby
				</div>
			</div>
			<div>
				<div cv-on = "click:toggleInvites" class = "invite button">
					<div class = "amount" cv-if = "invites.length">[[invites.length]]</div>
					<img class = "icon" src = "/icons/mail.svg" />
				</div>
			</div>
		</div>

		<div class = "row wide">

			<div class = "users frame column">
				<div class = "sort-buttons">
					<button class = "sort-abc"  cv-on = 'click:sortUsers("abc")'></button>
					<button class = "sort-time" cv-on = 'click:sortUsers("time")'></button>
				</div>
				<div class = "scroller" cv-each = "userList:user">
					<div title = "[[user.id]]" class = "user" tabindex = "0">
						[[user.username]]
						<div class = "user-list-buttons">
							<button cv-on   = "click:sendCryptoGameInvite(event, user)">invite</button>
<!-- 							<button>message</button>
							<button>ignore</button> -->
						</div>
					</div>
				</div>
			</div>

			<div class = "messages wide column">
				<div class = "row motd [[motdClosed]]">
					<button class="close-button" cv-on = "click:closeMotd"></button>
					<span>&lt;motd&gt;: [[motd]]</span>
				</div>
				<div class = "row wide frame">
					<div class = "scroller" cv-ref = "scroller">
						<div cv-if = "loading">
							<img class = "loader icon" src = "/icons/loader.svg" />
						</div>
						<div class = "column" cv-each = "messages:message">
							<span class = "message">[[message]]</span>
						</div>
					</div>
				</div>
				<div class = "row">
					<input
						type    = "text"
						cv-bind = "input"
						cv-on   = "keyup"
						cv-ref  = "input"
					/>
					<button cv-on   = "click:sendMessage">send</button>
				</div>
			</div>

			<div class = "invites">
				<div cv-if = "!invites.length">No pending invites.</div>
				<div class = "column" cv-each = "invites:invite:i">
					<div class = "column">
						<div>[[invite.sender]] invited you to play!</div>
						<div class = "row">
							<button cv-on = "click:acceptCryptoGameInvite(event, invite)">accept</button>
							<button cv-on = 'click:rejectCryptoGameInvite(event, invite, "button_clicked")'>reject</button>
						</div>
					</div>
				</div>
			</div>

		</div>
	</div>
</div>
